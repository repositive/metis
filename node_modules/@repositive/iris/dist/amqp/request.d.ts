/// <reference types="node" />
import { Channel } from 'amqplib';
export interface RequestOpts {
    pattern: string;
    payload?: Buffer;
    timeout?: number;
}
export declare class TimeoutError extends Error {
    constructor(msg?: string);
}
export declare class RPCError extends Error {
    constructor(msg?: string);
}
export interface SetupRequestOpts {
    ch: Channel;
    exchange: string;
    _setTimeout?: typeof setTimeout;
    _clearTimeout?: typeof clearTimeout;
    _log?: typeof console;
}
export declare function setupRequest<S>({ch, exchange, _setTimeout, _clearTimeout, _log}: SetupRequestOpts): Promise<({pattern, payload, timeout}: RequestOpts) => Promise<void | Buffer>>;
